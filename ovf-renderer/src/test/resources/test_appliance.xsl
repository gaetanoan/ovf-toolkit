<?xml version='1.0' encoding='UTF-8'?><xsl:transform version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:ovf="http://schemas.dmtf.org/ovf/envelope/1"><xsl:output indent="yes" method="xml" /><xsl:template match="/"><Deployment><DeployData ovfRef="WebTier"><xsl:copy-of select="descendant::ovf:VirtualSystem[@ovf:id='WebTier']" /><References><xsl:copy-of select="/ovf:Envelope/ovf:References/node()[@ovf:id='base' or @ovf:id='image0']" /></References><DiskSection><xsl:copy-of select="/ovf:Envelope/ovf:DiskSection/node()[@ovf:diskId='base' or @ovf:diskId='web']" /></DiskSection><NetworkSection><xsl:copy-of select="/ovf:Envelope/ovf:NetworkSection/node()[@ovf:name='VMNetwork0']" /></NetworkSection><StartupInformation><xsl:copy-of select="//ovf:VirtualSystem[@ovf:id='WebTier']/../ovf:StartupSection/ovf:Item[@ovf:id='WebTier']" /></StartupInformation></DeployData><DeployData ovfRef="et1"><xsl:copy-of select="descendant::ovf:VirtualSystem[@ovf:id='et1']" /><References><xsl:copy-of select="/ovf:Envelope/ovf:References/node()[@ovf:id='base' or @ovf:id='image1']" /></References><DiskSection><xsl:copy-of select="/ovf:Envelope/ovf:DiskSection/node()[@ovf:diskId='base' or @ovf:diskId='engine_frontend']" /></DiskSection><NetworkSection><xsl:copy-of select="/ovf:Envelope/ovf:NetworkSection/node()[@ovf:name='VMNetwork0' or @ovf:name='VMNetwork1']" /></NetworkSection><StartupInformation><xsl:copy-of select="//ovf:VirtualSystem[@ovf:id='et1']/../ovf:StartupSection/ovf:Item[@ovf:id='et1']" /></StartupInformation></DeployData><DeployData ovfRef="et2"><xsl:copy-of select="descendant::ovf:VirtualSystem[@ovf:id='et2']" /><References><xsl:copy-of select="/ovf:Envelope/ovf:References/node()[@ovf:id='base' or @ovf:id='image2']" /></References><DiskSection><xsl:copy-of select="/ovf:Envelope/ovf:DiskSection/node()[@ovf:diskId='base' or @ovf:diskId='engine_worker']" /></DiskSection><NetworkSection><xsl:copy-of select="/ovf:Envelope/ovf:NetworkSection/node()[@ovf:name='VMNetwork1']" /></NetworkSection><StartupInformation><xsl:copy-of select="//ovf:VirtualSystem[@ovf:id='et2']/../ovf:StartupSection/ovf:Item[@ovf:id='et2']" /></StartupInformation></DeployData><DeployData ovfRef="et3"><xsl:copy-of select="descendant::ovf:VirtualSystem[@ovf:id='et3']" /><References><xsl:copy-of select="/ovf:Envelope/ovf:References/node()[@ovf:id='base' or @ovf:id='image2']" /></References><DiskSection><xsl:copy-of select="/ovf:Envelope/ovf:DiskSection/node()[@ovf:diskId='base' or @ovf:diskId='engine_worker']" /></DiskSection><NetworkSection><xsl:copy-of select="/ovf:Envelope/ovf:NetworkSection/node()[@ovf:name='VMNetwork1']" /></NetworkSection><StartupInformation><xsl:copy-of select="//ovf:VirtualSystem[@ovf:id='et3']/../ovf:StartupSection/ovf:Item[@ovf:id='et3']" /></StartupInformation></DeployData><DeployData ovfRef="et4"><xsl:copy-of select="descendant::ovf:VirtualSystem[@ovf:id='et4']" /><References><xsl:copy-of select="/ovf:Envelope/ovf:References/node()[@ovf:id='base' or @ovf:id='image3']" /></References><DiskSection><xsl:copy-of select="/ovf:Envelope/ovf:DiskSection/node()[@ovf:diskId='base' or @ovf:diskId='engine_backend']" /></DiskSection><NetworkSection><xsl:copy-of select="/ovf:Envelope/ovf:NetworkSection/node()[@ovf:name='VMNetwork1' or @ovf:name='VMNetwork2']" /></NetworkSection><StartupInformation><xsl:copy-of select="//ovf:VirtualSystem[@ovf:id='et4']/../ovf:StartupSection/ovf:Item[@ovf:id='et4']" /></StartupInformation></DeployData><DeployData ovfRef="DB_frontend"><xsl:copy-of select="descendant::ovf:VirtualSystem[@ovf:id='DB_frontend']" /><References><xsl:copy-of select="/ovf:Envelope/ovf:References/node()[@ovf:id='base' or @ovf:id='image4']" /></References><DiskSection><xsl:copy-of select="/ovf:Envelope/ovf:DiskSection/node()[@ovf:diskId='base' or @ovf:diskId='db_frontend']" /></DiskSection><NetworkSection><xsl:copy-of select="/ovf:Envelope/ovf:NetworkSection/node()[@ovf:name='VMNetwork2' or @ovf:name='VMNetwork3']" /></NetworkSection><StartupInformation><xsl:copy-of select="//ovf:VirtualSystem[@ovf:id='DB_frontend']/../ovf:StartupSection/ovf:Item[@ovf:id='DB_frontend']" /></StartupInformation></DeployData><DeployData ovfRef="DB1"><xsl:copy-of select="descendant::ovf:VirtualSystem[@ovf:id='DB1']" /><References><xsl:copy-of select="/ovf:Envelope/ovf:References/node()[@ovf:id='base' or @ovf:id='image5']" /></References><DiskSection><xsl:copy-of select="/ovf:Envelope/ovf:DiskSection/node()[@ovf:diskId='base' or @ovf:diskId='db_backend']" /></DiskSection><NetworkSection><xsl:copy-of select="/ovf:Envelope/ovf:NetworkSection/node()[@ovf:name='VMNetwork3']" /></NetworkSection><StartupInformation><xsl:copy-of select="//ovf:VirtualSystem[@ovf:id='DB1']/../ovf:StartupSection/ovf:Item[@ovf:id='DB1']" /></StartupInformation></DeployData><DeployData ovfRef="DB2"><xsl:copy-of select="descendant::ovf:VirtualSystem[@ovf:id='DB2']" /><References><xsl:copy-of select="/ovf:Envelope/ovf:References/node()[@ovf:id='base' or @ovf:id='image5']" /></References><DiskSection><xsl:copy-of select="/ovf:Envelope/ovf:DiskSection/node()[@ovf:diskId='base' or @ovf:diskId='db_backend']" /></DiskSection><NetworkSection><xsl:copy-of select="/ovf:Envelope/ovf:NetworkSection/node()[@ovf:name='VMNetwork3']" /></NetworkSection><StartupInformation><xsl:copy-of select="//ovf:VirtualSystem[@ovf:id='DB2']/../ovf:StartupSection/ovf:Item[@ovf:id='DB2']" /></StartupInformation></DeployData></Deployment></xsl:template></xsl:transform>